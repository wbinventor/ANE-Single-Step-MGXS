%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Introduction}
\label{sec:intro}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

Significant progress has been made in recent years to develop deterministic neutron transport-based tools for full-core reactor analysis \citep{gunow20173dmoc, ryu2015solution, kochunas2013overview, evans2010denovo, palmiotti2007unic}. These efforts are motivated by the desire to obtain Monte Carlo-quality solutions with computationally efficient multi-group methods. The focal point for much of this work has been the implementation and evaluation of parallel algorithms to make full-core analysis feasible on large computing machines. However, much work remains to develop methods for multi-group cross section (MGXS) generation that enable multi-group transport codes to achieve sufficient predictive accuracy to complement (or replace) analysis with continuous energy Monte Carlo methods.

A two-pronged approach is needed to generate MGXS which enable Monte Carlo-quality solutions with multi-group methods. First, the approximation errors inherent to multi-group transport methods must be rigorously isolated and quantified by benchmarking multi-group transport with continuous energy Monte Carlo methods on fully-detailed heterogeneous benchmarks. These approximation errors may take on more (or less) relevance than they did for validation of the coarse-mesh multi-group diffusion-based codes used today. Second, the quantifiable results from these analyses should inform the development of solutions that rectify biases observed between multi-group and continuous energy transport methods.

This paper specifically investigates approximation error due to the effects of inter-pin spatial self-shielding in Pressurized Water Reactors (PWRs) on multi-group cross sections. The effects of neighboring pins, control rod guide tubes, burnable poisons, water reflectors and the core baffle are each of interest in the context of spatial self-shielding. In particular, this paper quantifies the difference in the approximation error between simulations in which the same MGXS are used for each unique fuel pin, and those in which unique MGXS are used in each \textit{instance} of each fuel pin throughout a core geometry. The former approach does little to model spatial self-shielding effects beyond those accounted for by an infinite fuel pin lattice model, while the latter goes much further to resolve inter-pin spatial self-shielding effects, albeit at the expense of much larger MGXS libraries.

This work employs Monte Carlo (MC) neutron transport simulations to generate MGXS. Monte Carlo methods have increasingly been used to generate few-group constants for coarse mesh diffusion, most notably by the Serpent MC code \citep{serpent2013manual}, and to a much lesser extent, for high-fidelity neutron transport methods \citep{redmond1997multigroup, nelson2014improved, cai2014condensation, boyd2016thesis}. The advantage of a MC-based approach is that all of the relevant physics are directly embedded into MGXS by weighting the continuous energy cross sections with a statistical proxy to the true neutron scalar flux. This paper replaces the traditional multi-step approach to MGXS generation with a single Monte Carlo eigenvalue calculation of the complete benchmark geometry to generate MGXS for each fuel pin instance. Furthermore, the same MC calculation is used to compute a reference solution to benchmark the approximate solution from a multi-group code and to quantify the significance of spatially self-shielded MGXS.

The content in this paper is organized as follows. The methodology used to generate MGXS is discussed in \autoref{sec:mgxs-generation}. The simulation tools for continuous energy Monte Carlo simulations with OpenMC, and deterministic multi-group calculations with OpenMOC, are discussed in \autoref{sec:simulation-tools}. Two heterogeneous PWR benchmarks are presented in \autoref{sec:test-cases} to evaluate the efficacy of the spatial self-shielding models in \autoref{sec:results}. The need for a new, flexible approach to spatial homogenization which appropriately captures spatial self-shielding effects with minimal computational expense is discussed in \autoref{sec:conclusions}.
